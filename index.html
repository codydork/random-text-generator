<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random String Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        form {
            margin-bottom: 20px;
        }
        textarea {
            width: 300px;
            height: 50px;
            margin-bottom: 10px;
            display: block;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        #result {
            margin-top: 20px;
            white-space: pre-wrap;
        }
        #presetMenu {
            border: 1px solid #ccc;
            width: 300px;
            height: 150px;
            overflow-y: scroll;
            margin-bottom: 20px;
        }
        #presetMenu ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        #presetMenu li {
            padding: 5px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
        }
        #presetMenu li:hover {
            background-color: #f0f0f0;
        }
        #presetMenu button {
            width: 50%;
            padding: 10px;
            margin: 10px 0;
            cursor: pointer;
        }
        #presetMenu div {
            display: flex;
            justify-content: space-between;
        }
    </style>
</head>
<body>
    <h1>Random String Generator</h1>
    <p>Use the form below to generate random strings based on a custom template.</p>

    <form id="generatorForm">
        <label for="template">Template:</label>
        <textarea id="template"></textarea>
        <label for="customChars">Custom Characters (a-z, 0-9):</label>
        <textarea id="customChars"></textarea>
        <label for="customTilde">Custom Characters (~):</label>
        <textarea id="customTilde"></textarea>
        <label for="customBackslash">Custom Characters (\\):</label>
        <textarea id="customBackslash"></textarea>
        <label for="customPipe">Custom Characters (|):</label>
        <textarea id="customPipe"></textarea>
        <label for="customHash">Custom Characters (#):</label>
        <textarea id="customHash"></textarea>
        <label for="customDot">Custom Characters (.):</label>
        <textarea id="customDot"></textarea>
        <label for="customComma">Custom Characters (,):</label>
        <textarea id="customComma"></textarea>
        <label for="customAtSymbol">Custom Characters (@):</label>
        <textarea id="customAtSymbol"></textarea>
        <label for="customQuestionMark">Custom Characters (?):</label>
        <textarea id="customQuestionMark"></textarea>
        <label for="customPlus">Custom Characters (+):</label>
        <textarea id="customPlus"></textarea>
        <label for="customUnderscore">Custom Characters (_):</label>
        <textarea id="customUnderscore"></textarea>
        <label for="customAsterisk">Custom Characters (*):</label>
        <textarea id="customAsterisk"></textarea>
        <label for="customCaret">Custom Characters (^):</label>
        <textarea id="customCaret"></textarea>
        <label for="customAmpersand">Custom Characters (&):</label>
        <textarea id="customAmpersand"></textarea>
        <label for="customDollar">Custom Characters ($):</label>
        <textarea id="customDollar"></textarea>
        <label for="customPound">Custom Characters (£):</label>
        <textarea id="customPound"></textarea>
        <label for="customNot">Custom Characters (!):</label>
        <textarea id="customNot"></textarea>
        <button type="button" onclick="generateStrings()">Generate</button>
    </form>

    <div id="presetMenu">
        <h3>Presets</h3>
        <ul id="presetList">
            <li>Preset 1</li>
            <li>Preset 2</li>
            <li>Preset 3</li>
            <li>Preset 4</li>
            <li>Preset 5</li>
            <li>Preset 6</li>
            <li>Preset 7</li>
            <li>Preset 8</li>
            <li>Preset 9</li>
            <li>Preset 10</li>
            <li>Preset 11</li>
            <li>Preset 12</li>
            <li>Preset 13</li>
            <li>Preset 14</li>
            <li>Preset 15</li>
            <li>Preset 16</li>
            <li>Preset 17</li>
            <li>Preset 18</li>
            <li>Preset 19</li>
            <li>Preset 20</li>
        </ul>
        <div>
            <button onclick="savePreset()">Save</button>
            <button onclick="loadPreset()">Load</button>
        </div>
    </div>

    <h2>Instructions</h2>
    <div id="guide">
        <p>
            **Instructions for using the preset menu:**
            1. There is 20 presets that you can save or load.
            3. Click on one of the presets (e.g., Preset 1) and press save to save all the characters that are in the text inputs for the symbols.
            4. When you press that preset it loads all the characters in the preset.
            5. When a preset has all the characters, it will have (FULL) beside the preset name.
        </p>
    </div>

    <div id="result"></div>
    <a id="downloadLink" style="display:none">Download Result</a>

    <script>
        const presets = Array(20).fill(null);

        function getCustomChars(id) {
            const customChars = document.getElementById(id).value.split('\n').join('');
            return customChars || 'abcdefghijklmnopqrstuvwxyz0123456789';
        }

        function savePreset() {
            const selectedPreset = document.querySelector('#presetList li.selected');
            if (!selectedPreset) return alert('Please select a preset to save.');

            const index = [...selectedPreset.parentElement.children].indexOf(selectedPreset);
            presets[index] = {
                customChars: getCustomChars('customChars'),
                customTilde: getCustomChars('customTilde'),
                customBackslash: getCustomChars('customBackslash'),
                customPipe: getCustomChars('customPipe'),
                customHash: getCustomChars('customHash'),
                customDot: getCustomChars('customDot'),
                customComma: getCustomChars('customComma'),
                customAtSymbol: getCustomChars('customAtSymbol'),
                customQuestionMark: getCustomChars('customQuestionMark'),
                customPlus: getCustomChars('customPlus'),
                customUnderscore: getCustomChars('customUnderscore'),
                customAsterisk: getCustomChars('customAsterisk'),
                customCaret: getCustomChars('customCaret'),
                customAmpersand: getCustomChars('customAmpersand'),
                customDollar: getCustomChars('customDollar'),
                customPound: getCustomChars('customPound'),
                customNot: getCustomChars('customNot')
            };

            // Check if any field has characters for this preset
            const hasCharacters = Object.values(presets[index]).some(value => value !== 'abcdefghijklmnopqrstuvwxyz0123456789');

            if (hasCharacters) {
                selectedPreset.textContent = `Preset ${index + 1} (FULL)`;
            } else {
                selectedPreset.textContent = `Preset ${index + 1}`;
            }
        }

        function loadPreset() {
            const selectedPreset = document.querySelector('#presetList li.selected');
            if (!selectedPreset) return alert('Please select a preset to load.');

            const index = [...selectedPreset.parentElement.children].indexOf(selectedPreset);
            const preset = presets[index];
            if (!preset) return alert('No data saved in this preset.');

            document.getElementById('customChars').value = preset.customChars;
            document.getElementById('customTilde').value = preset.customTilde;
            document.getElementById('customBackslash').value = preset.customBackslash;
            document.getElementById('customPipe').value = preset.customPipe;
            document.getElementById('customHash').value = preset.customHash;
            document.getElementById('customDot').value = preset.customDot;
            document.getElementById('customComma').value = preset.customComma;
            document.getElementById('customAtSymbol').value = preset.customAtSymbol;
            document.getElementById('customQuestionMark').value = preset.customQuestionMark;
            document.getElementById('customPlus').value = preset.customPlus;
            document.getElementById('customUnderscore').value = preset.customUnderscore;
            document.getElementById('customAsterisk').value = preset.customAsterisk;
            document.getElementById('customCaret').value = preset.customCaret;
            document.getElementById('customAmpersand').value = preset.customAmpersand;
            document.getElementById('customDollar').value = preset.customDollar;
            document.getElementById('customPound').value = preset.customPound;
            document.getElementById('customNot').value = preset.customNot;

            // Check if any field has characters for this preset
            const hasCharacters = Object.values(preset).some(value => value !== 'abcdefghijklmnopqrstuvwxyz0123456789');

            if (hasCharacters) {
                selectedPreset.textContent = `Preset ${index + 1} (FULL)`;
            } else {
                selectedPreset.textContent = `Preset ${index + 1}`;
            }
        }

        document.querySelectorAll('#presetList li').forEach((li) => {
            li.addEventListener('click', () => {
                document.querySelectorAll('#presetList li').forEach((el) => el.classList.remove('selected'));
                li.classList.add('selected');
            });
        });

        function generateStrings() {
            const template = document.getElementById('template').value;
            const customChars = getCustomChars('customChars');
            const customTilde = getCustomChars('customTilde');
            const customBackslash = getCustomChars('customBackslash');
            const customPipe = getCustomChars('customPipe');
            const customHash = getCustomChars('customHash');
            const customDot = getCustomChars('customDot');
            const customComma = getCustomChars('customComma');
            const customAtSymbol = getCustomChars('customAtSymbol');
            const customQuestionMark = getCustomChars('customQuestionMark');
            const customPlus = getCustomChars('customPlus');
            const customUnderscore = getCustomChars('customUnderscore');
            const customAsterisk = getCustomChars('customAsterisk');
            const customCaret = getCustomChars('customCaret');
            const customAmpersand = getCustomChars('customAmpersand');
            const customDollar = getCustomChars('customDollar');
            const customPound = getCustomChars('customPound');
            const customNot = getCustomChars('customNot');

            let result = '';

            for (let char of template) {
                switch (char) {
                    case 'a': result += customChars[Math.floor(Math.random() * customChars.length)]; break;
                    case '~': result += customTilde[Math.floor(Math.random() * customTilde.length)]; break;
                    case '\\': result += customBackslash[Math.floor(Math.random() * customBackslash.length)]; break;
                    case '|': result += customPipe[Math.floor(Math.random() * customPipe.length)]; break;
                    case '#': result += customHash[Math.floor(Math.random() * customHash.length)]; break;
                    case '.': result += customDot[Math.floor(Math.random() * customDot.length)]; break;
                    case ',': result += customComma[Math.floor(Math.random() * customComma.length)]; break;
                    case '@': result += customAtSymbol[Math.floor(Math.random() * customAtSymbol.length)]; break;
                    case '?': result += customQuestionMark[Math.floor(Math.random() * customQuestionMark.length)]; break;
                    case '+': result += customPlus[Math.floor(Math.random() * customPlus.length)]; break;
                    case '_': result += customUnderscore[Math.floor(Math.random() * customUnderscore.length)]; break;
                    case '*': result += customAsterisk[Math.floor(Math.random() * customAsterisk.length)]; break;
                    case '^': result += customCaret[Math.floor(Math.random() * customCaret.length)]; break;
                    case '&': result += customAmpersand[Math.floor(Math.random() * customAmpersand.length)]; break;
                    case '$': result += customDollar[Math.floor(Math.random() * customDollar.length)]; break;
                    case '£': result += customPound[Math.floor(Math.random() * customPound.length)]; break;
                    case '!': result += customNot[Math.floor(Math.random() * customNot.length)]; break;
                    default: result += char;
                }
            }

            // Handling output based on number of strings
            const numStrings = template.length;
            if (numStrings > 9999) {
                saveResultToFile(result);
            } else {
                document.getElementById('result').textContent = result;
            }
        }

        function saveResultToFile(result) {
            const blob = new Blob([result], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.getElementById('downloadLink');
            a.href = url;
            a.download = 'result.txt';
            a.style.display = 'block';
            a.textContent = 'Download Result';
        }
    </script>
</body>
</html>
